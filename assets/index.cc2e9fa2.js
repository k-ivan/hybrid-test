import{g as e,c as t,r as s}from"./index.3edb31a7.js";import{p as a,a as l,o as n,c as i,e as o,i as r,F as d,j as h,n as c,f as p,q as u,w as g,g as m,b as v,t as x}from"./vendor.2c14fa92.js";const b={name:"Dashboard",data:()=>({allPosts:e(),page:1,perPage:5,selected:[]}),computed:{posts(){return this.allPosts.slice(this.startIndex,this.endIndex)},total(){return this.allPosts.length},startIndex(){return(this.page-1)*this.perPage},endIndex(){return this.startIndex+this.perPage},hasPrev(){return this.startIndex>0},hasNext(){return this.endIndex<this.total},selectAll:{get(){return!!this.posts&&this.selected.length==this.posts.length},set(e){const t=[];e&&this.posts.forEach((e=>t.push(e.id))),this.selected=t}},isSelected(){return Boolean(this.selected.length)}},watch:{page(){this.selected=[]}},methods:{commentsLength:e=>t(e),handleRemove(){const e=s(this.selected);this.allPosts=e,this.selectAll=[],this.page=1},handlePrev(){this.page--},handleNext(){this.page++}}},P=g();a("data-v-2b0b0312");const _=o("h1",null,"Posts",-1),k={class:"actions"},y=m(" Create post "),f={class:"tbl-responsive"},I={class:"tbl tbl--horizontal-bordered tbl--hover"},N=o("th",{class:"text-left"}," title ",-1),C=o("th",null,"date",-1),R=o("th",null,"comments",-1),A={class:"text-center"},j={class:"text-center"},w={class:"text-center"},L={class:"pagination"},S={key:1},D={key:1},E={key:1,class:"empty text-center"},U=m(" Start building a "),V=m(" story ");l();const q=P(((e,t,s,a,l,g)=>{const b=v("RouterLink");return n(),i(d,null,[o("header",null,[_,o("div",k,[g.isSelected&&g.posts.length?(n(),i("button",{key:0,class:"btn btn--warning",onClick:t[1]||(t[1]=(...e)=>g.handleRemove&&g.handleRemove(...e))}," Remove selected post(s) ")):r("",!0),o(b,{class:"btn btn--primary",to:{name:"Create"}},{default:P((()=>[y])),_:1})])]),l.allPosts.length?(n(),i(d,{key:0},[o("div",f,[o("table",I,[o("thead",null,[o("tr",null,[o("th",null,[h(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>g.selectAll=e),type:"checkbox"},null,512),[[c,g.selectAll]])]),N,C,R])]),o("tbody",null,[(n(!0),i(d,null,p(g.posts,(s=>(n(),i("tr",{key:s.slug},[o("td",A,[h(o("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.selected=e),type:"checkbox",value:s.id},null,8,["value"]),[[c,l.selected]])]),o("td",null,[o(b,{to:{name:"Edit",params:{slug:s.slug}}},{default:P((()=>[m(x(s.title),1)])),_:2},1032,["to"])]),o("td",j,x(e.$formatDate(s.date)),1),o("td",w,x(g.commentsLength(s.comments)),1)])))),128))])])]),o("ol",L,[o("li",{class:["pagination__item pagination__item--prev",{"is-disabled":!g.hasPrev}]},[g.hasPrev?(n(),i("a",{key:0,href:"#0",class:"pagination__link",onClick:t[4]||(t[4]=u(((...e)=>g.handlePrev&&g.handlePrev(...e)),["prevent"]))},"Prev")):(n(),i("span",S,"Prev"))],2),o("li",{class:["pagination__item pagination__item--next",{"is-disabled":!g.hasNext}]},[g.hasNext?(n(),i("a",{key:0,href:"#0",class:"pagination__link",onClick:t[5]||(t[5]=u(((...e)=>g.handleNext&&g.handleNext(...e)),["prevent"]))},"Next")):(n(),i("span",D,"Next"))],2)])],64)):(n(),i("div",E,[U,o(b,{to:{name:"Create"}},{default:P((()=>[V])),_:1})]))],64)}));b.render=q,b.__scopeId="data-v-2b0b0312";export default b;
